<form
  formzForm
  formzRootValidate
  class="form"
  [formValue]="formValue()"
  [formShape]="formShape"
  [suite]="suite"
  [validationOptions]="validationOptions"
  (dirtyChange$)="isDirty.set($event)"
  (validChange$)="isValid.set($event)"
  (errorsChange$)="errors.set($event)"
  (formValueChange$)="setFormValue($event)"
  (ngSubmit)="onSubmit()">
  <fieldset class="fieldset">
    <!-- First Name -->
    <!-- <formz-field-decorator>
      <formz-input-field
        formzField
        formzFieldErrors
        placeholder="Your first name"
        autocomplete="given-name"
        name="firstName"
        [minLength]="10"
        [maxLength]="15"
        [ngModel]="vm.formValue.firstName"
        [disabled]="false"
        [readOnly]="false"
        [required]="false">
      </formz-input-field>
      <div
        formzFieldLabel
        [isFloating]="true">
        First Name
      </div>
      <div formzFieldTooltip>(Input)</div>
      <div formzFieldPrefix>Prefix</div>
      <div formzFieldSuffix>Suffix</div>
    </formz-field-decorator> -->

    <!-- Last Name -->
    <!-- <formz-field-decorator>
      <formz-textarea-field
        formzField
        formzFieldErrors
        placeholder="Your last name"
        autocomplete="family-name"
        name="lastName"
        [ngModel]="vm.formValue.lastName"
        [disabled]="false"
        [readOnly]="false"
        [required]="false">
      </formz-textarea-field>
      <div
        formzFieldLabel
        [isFloating]="true">
        Last Name
      </div>
      <div formzFieldTooltip>(Textarea)</div>
      <div formzFieldPrefix>Prefix</div>
      <div formzFieldSuffix>Suffix</div>
    </formz-field-decorator> -->

    <!-- Gender -->
    <formz-field-decorator>
      <formz-select-field
        formzField
        formzFieldErrors
        name="gender"
        [ngModel]="vm.formValue.gender"
        [disabled]="false"
        [required]="false"
        [options]="genderOptions">
        <formz-field-option
          [value]="'other'"
          [label]="'Other'"
          [disabled]="true" />
        <formz-field-option [value]="'trans'">Trans</formz-field-option>
      </formz-select-field>
      <div
        formzFieldLabel
        [isFloating]="true">
        Gender
      </div>
      <div formzFieldTooltip>(Select)</div>
      <div formzFieldPrefix>Prefix</div>
      <div formzFieldSuffix>Suffix</div>
    </formz-field-decorator>

    <!-- Nationality -->
    <formz-field-decorator>
      <formz-dropdown-field
        formzField
        formzFieldErrors
        placeholder="Select..."
        name="nationality"
        [ngModel]="vm.formValue.nationality"
        [disabled]="false"
        [required]="false"
        [options]="nationalityOptions"
        [emptyOption]="nationalityEmptyOption">
        <formz-field-option
          [value]="'ch'"
          [label]="'CH'"
          >ðŸ‡¨ðŸ‡­ Switzerland (other label)</formz-field-option
        >
        <formz-field-option [value]="'it (no label)'">ðŸ‡®ðŸ‡¹ Italia (no label)</formz-field-option>
        <formz-field-option
          [value]="'custom'"
          [label]="'The Special One'">
          <p>I'm a special item</p>
          <pre>And I can have any content</pre>
        </formz-field-option>
      </formz-dropdown-field>
      <div
        formzFieldLabel
        [isFloating]="true">
        Nationality
      </div>
      <div formzFieldTooltip>(Dropdown)</div>
      <div formzFieldPrefix>Prefix</div>
      <div formzFieldSuffix>Suffix</div>
    </formz-field-decorator>

    <!-- Hobby -->
    <formz-field-decorator>
      <formz-autocomplete-field
        formzField
        formzFieldErrors
        placeholder="Select..."
        name="hobby"
        [ngModel]="vm.formValue.hobby"
        [disabled]="false"
        [required]="false"
        [options]="hobbyOptions"
        [emptyOption]="hobbyEmptyOption">
        <formz-field-option
          [value]="'garden'"
          [label]="'Gardening'"
          [disabled]="true">
          Gardening
        </formz-field-option>
        <formz-field-option
          [value]="'singing'"
          [label]="'SING'"
          >Singing (other label)</formz-field-option
        >
        <formz-field-option [value]="'other'">Other (no label)</formz-field-option>
        <formz-field-option
          [value]="'custom'"
          [label]="'The Special One'"
          [match]="specialMatchFn">
          <p>I'm a special item</p>
          <pre>And I can have any content</pre>
        </formz-field-option>
      </formz-autocomplete-field>
      <div
        formzFieldLabel
        [isFloating]="true">
        Hobby
      </div>
      <div formzFieldTooltip>(Autocomplete)</div>
      <div formzFieldPrefix>Prefix</div>
      <div formzFieldSuffix>Suffix</div>
    </formz-field-decorator>

    <!-- Animals -->
    <!-- <formz-field-decorator>
      <formz-autocomplete-field
        formzField
        formzFieldErrors
        placeholder="Select..."
        name="animal"
        [ngModel]="vm.formValue.animal"
        [disabled]="false"
        [required]="false"
        [options]="animalOptionsDefault"
        [emptyOption]="animalEmptyOption"
        (inputChange$)="onAnimalFilterChange($event)">
        @for (option of animalOptionsFiltered$ | async; track option.value) {
          <fuzzy-field-option
            [value]="option.value"
            [label]="option.label"
            [disabled]="option.disabled || false"
            [subtitle]="option.subtitle"
            [highlightedEntries]="option.highlightedEntries || { labelEntries: [], subtitleEntries: [] }">
          </fuzzy-field-option>
        }
      </formz-autocomplete-field>
      <div
        formzFieldLabel
        [isFloating]="true">
        Animal
      </div>
      <div formzFieldTooltip>(Autocomplete with custom options)</div>
      <div formzFieldPrefix>Prefix</div>
      <div formzFieldSuffix>Suffix</div>
    </formz-field-decorator> -->

    <!-- Birthdate -->
    <!-- <formz-field-decorator>
      <formz-date-field
        formzField
        formzFieldErrors
        placeholder="?"
        name="birthdate"
        [ngModel]="vm.formValue.birthdate"
        [disabled]="false"
        [required]="false">
      </formz-date-field>
      <div
        formzFieldLabel
        [isFloating]="true">
        Birthdate
      </div>
      <div formzFieldTooltip>(Date)</div>
      <div formzFieldPrefix>Prefix</div>
      <div formzFieldSuffix>Suffix</div>
    </formz-field-decorator> -->

    <!-- Religion -->
    <formz-field-decorator [layout]="'group'">
      <formz-radio-group-field
        formzField
        formzFieldErrors
        name="religion"
        [ngModel]="vm.formValue.religion"
        [disabled]="false"
        [readOnly]="false"
        [required]="false"
        [options]="religionOptions"
        [emptyOption]="religionEmptyOption">
        <formz-field-option
          [value]="'atheist'"
          [label]="'Atheist'"
          [disabled]="true">
          Atheist
        </formz-field-option>
        <formz-field-option
          [value]="'agnostic'"
          [label]="'AGNOSTIC'"
          >Agnostic (other label)</formz-field-option
        >
        <formz-field-option [value]="'other'">Other (no label)</formz-field-option>
        <formz-field-option
          [value]="'custom'"
          [label]="'The Special One'"
          [match]="specialMatchFn">
          <p>I'm a special item</p>
          <pre>And I can have any content</pre>
        </formz-field-option>
      </formz-radio-group-field>
      <div
        formzFieldLabel
        [isFloating]="true">
        Religion
      </div>
      <div formzFieldTooltip>(Radio Group)</div>
      <div formzFieldPrefix>Prefix</div>
      <div formzFieldSuffix>Suffix</div>
    </formz-field-decorator>

    <!-- Passwords Group -->
    <!-- TODO add form group -->

    <div class="footer">
      <!-- Submit -->
      <!-- <formz-form-submit
        [submitLabel]="'Submit'"
        [cancelLabel]="'Cancel'"
        [isSubmitDisabled]="!vm.isValid">
      </formz-form-submit> -->
    </div>
  </fieldset>

  <!-- Show Debugging Data -->
  <div style="margin-top: 20px">
    <pre>Value:<br/>{{ vm.formValue | json }}</pre>
    <pre>Dirty: {{ vm.isDirty }}</pre>
    <pre>Valid: {{ vm.isValid }}</pre>
    <pre>Errors:<br/>{{ vm.errors | json }}</pre>
  </div>
</form>
