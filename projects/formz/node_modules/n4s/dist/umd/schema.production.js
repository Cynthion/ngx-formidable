!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("n4s"),require("vest-utils")):"function"==typeof define&&define.amd?define(["exports","n4s","vest-utils"],t):t((n="undefined"!=typeof globalThis?globalThis:n||self).schema={},n.n4s,n["vest-utils"])}(this,(function(n,t,e){"use strict";function r(n,t){return{pass:n}}function o(){return r(!1)}function s(){return r(!0)}function u(n,t){try{return n.run(t)}catch(n){return o()}}function i(n,e){for(const r in e){const o=n[r],s=e[r],i=t.ctx.run({value:o,set:!0,meta:{key:r}},(()=>u(s,o)));if(!i.pass)return i}return s()}t.enforce.extend({isArrayOf:function(n,r){return o=e.mapFirst(n,((n,e,o)=>{const s=t.ctx.run({value:n,set:!0,meta:{index:o}},(()=>u(r,n)));e(!s.pass,s)})),e.defaultTo(o,s());var o},loose:i,optional:function(n,t){return e.isNullish(n)?s():u(t,n)},shape:function(n,t){const r=i(n,t);if(!r.pass)return r;for(const r in n)if(!e.hasOwnProperty(t,r))return o();return s()}}),n.partial=function(n){const e={};for(const r in n)e[r]=t.enforce.optional(n[r]);return e}}));
//# sourceMappingURL=schema.production.js.map
