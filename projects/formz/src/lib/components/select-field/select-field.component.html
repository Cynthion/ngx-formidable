<select
  #selectRef
  class="field"
  [id]="fieldId"
  [attr.name]="name"
  [attr.disabled]="disabled ? '' : null"
  [required]="required"
  (change)="onChangeChange()"
  (focus)="onFocusChange(true)"
  (blur)="onFocusChange(false)">
  <!-- Inline Options -->
  @for (option of inlineOptions$.value; track option.value) {
    <option
      [value]="option.value"
      [disabled]="option.disabled || false"
      [selected]="option.value === value">
      {{ option.label || option.value }}
    </option>
  }

  <!-- Content Projected Options -->
  <!-- Options are re-created in order to use native <option> elements. -->
  @for (option of projectedOptions$.value; track option.value) {
    <option
      [value]="option.value"
      [disabled]="option.disabled || false"
      [selected]="option.value === value">
      {{ option.label || option.value }}
    </option>
  }

  <!-- Empty Option -->
  @if (inlineOptions$.value.length === 0 && projectedOptions$.value.length === 0) {
    <option
      [value]="emptyOption.value"
      [label]="emptyOption.label"
      [disabled]="true">
      {{ emptyOption.label || emptyOption.value }}
    </option>
  }
</select>
